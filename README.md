# ESTUDO DE CASO: Como uma empresa de tecnologia de bem-estar pode agir com intelig√™ncia?
#### Autor: Guilherme Oliveira da Rocha Cunha

#### Data da √∫ltima atualiza√ß√£o: 26/07/2023

## Cen√°rio
Voc√™ √© um analista de dados j√∫nior que trabalha na equipe de analistas de marketing da Bellabeat, uma fabricante de produtos de alta tecnologia voltados √† sa√∫de para mulheres. A Bellabeat √© uma pequena empresa de sucesso, mas tem potencial para se adquirir maior participa√ß√£o no mercado global de dispositivos inteligentes. Ur≈°ka Sr≈°en, cofundadora e CEO da Bellabeat, acredita que a an√°lise de dados de condicionamento f√≠sico a partir de dispositivos inteligentes pode ajudar a abrir novas oportunidades de crescimento para a empresa. Foi solicitado que voc√™ se concentre em um dos produtos da Bellabeat e analise dados de dispositivos inteligentes para obter informa√ß√µes sobre como os consumidores est√£o usando esses dispositivos. Os insights que voc√™ descobrir ajudar√£o a orientar a estrat√©gia de marketing da empresa. Voc√™ apresentar√° sua an√°lise √† equipe executiva da Bellabeat juntamente com suas recomenda√ß√µes de alto n√≠vel para a estrat√©gia de marketing da empresa.

## Personagens e Produtos
#### Personagens
- Ur≈°ka Sr≈°en: Cofundadora e CEO da Bellabeat
- Sando Mur: Matem√°tico e cofundador da Bellabeat; membro-chave da equipe executiva da Bellabeat
- Equipe de an√°lise de marketing da Bellabeat: Uma equipe de analistas de dados respons√°vel por coletar, analisar e relatar dados que ajudam a orientar a estrat√©gia de marketing da Bellabeat. Voc√™ se juntou a esta equipe h√° seis meses e tem estado ocupado aprendendo sobre a miss√£o e os objetivos de neg√≥cios da Bellabeat ‚Äì e como voc√™, como analista de dados j√∫nior, tamb√©m pode ajudar a Bellabeat a alcan√ß√°-los.

#### Produtos
- Aplicativo Bellabeat: O aplicativo Bellabeat fornece aos usu√°rios dados de sa√∫de relacionados √† sua atividade, sono, estresse, ciclo menstrual e h√°bitos de aten√ß√£o plena. Esses dados podem ajudar os usu√°rios a entender melhor seus h√°bitos atuais e tomar decis√µes saud√°veis. O aplicativo Bellabeat se conecta √† sua linha de produtos inteligentes de bem-estar.
- Leaf: O rastreador de bem-estar cl√°ssico da Bellabeat pode ser usado como pulseira, colar ou clipe. O rastreador Leaf se conecta ao aplicativo Bellabeat para rastrear a atividade, o sono e o estresse.
- Time: Este rel√≥gio de bem-estar combina a apar√™ncia atemporal de um rel√≥gio cl√°ssico com tecnologia inteligente para rastrear a atividade, o sono e o estresse do usu√°rio. O rel√≥gio Time se conecta ao aplicativo Bellabeat para fornecer informa√ß√µes sobre seu bem-estar di√°rio.
- Spring: Esta √© uma garrafa de √°gua que rastreia a ingest√£o di√°ria de √°gua por meio de tecnologia inteligente para garantir que voc√™ esteja adequadamente hidratado ao longo do dia. A garrafa Spring se conecta ao aplicativo Bellabeat para rastrear seus n√≠veis de hidrata√ß√£o.
- Planos da Bellabeat: A Bellabeat tamb√©m oferece aos usu√°rios diferentes planos de assinatura. As assinaturas oferecem aos usu√°rios acesso 24 horas por dia, 7 dias por semana, orienta√ß√£o totalmente personalizada sobre nutri√ß√£o, atividade, sono, sa√∫de e beleza, al√©m de aten√ß√£o plena com base em seu estilo de vida e objetivos.

## Sobre a empresa
Ur≈°ka Sr≈°en e Sando Mur fundaram a Bellabeat, uma empresa de alta tecnologia que fabrica produtos inteligentes focados na sa√∫de. A Ur≈°ka aproveitou sua experi√™ncia como artista para desenvolver uma tecnologia elegantemente projetada que informa e inspira mulheres em todo o mundo. A coleta de dados sobre atividade, sono, estresse e sa√∫de reprodutiva permitiu √† Bellabeat capacitar as mulheres com conhecimento sobre sua pr√≥pria sa√∫de e h√°bitos. Desde que foi fundada em 2013, a Bellabeat cresceu rapidamente e n√£o levou muito tempo para se posicionar como uma empresa de bem-estar voltada √† tecnologia para mulheres.

Em 2016, a Bellabeat abriu escrit√≥rios ao redor do mundo e lan√ßou v√°rios produtos. Os produtos Bellabeat tornaram-se dispon√≠veis por meio de um n√∫mero crescente de varejistas online, al√©m de seu pr√≥prio canal de com√©rcio eletr√¥nico em seu site. A empresa investiu em m√≠dia de publicidade tradicional, como r√°dio, outdoors, m√≠dia impressa e televis√£o, mas se concentra amplamente no marketing digital. A Bellabeat investe o ano todo na Pesquisa do Google, mantendo p√°ginas ativas no Facebook e Instagram, al√©m de engajar os consumidores de forma consistente no Twitter. Al√©m disso, a Bellabeat exibe an√∫ncios em v√≠deo no Youtube e an√∫ncios gr√°ficos na rede de display do Google para apoiar campanhas em datas importantes de marketing.

A Ur≈°ka sabe que uma an√°lise dos dados de consumo dispon√≠veis da Bellabeat revelaria mais oportunidades de crescimento. Ela pediu √† equipe de an√°lise de marketing para se concentrar em um produto da Bellabeat e analisar os dados de uso de dispositivos inteligentes para obter informa√ß√µes sobre como as pessoas j√° est√£o usando seus dispositivos inteligentes. Assim, por meio dessas informa√ß√µes, ela gostaria de conferir excelentes recomenda√ß√µes sobre como essas tend√™ncias podem nortear a estrat√©gia de marketing da Bellabeat.

## Etapas do processo de an√°lise de dados

### ‚ùî [Pergunta](#1-pergunta)
### üíª [Prepara√ß√£o](#2-prepara√ß√£o)
### üõ† [Processamento](#3-processamento)
### üìä [An√°lise](#4-an√°lise)
### üìã [Compartilhamento](#5-compartilhamento)
### üßó [A√ß√£o](#6-a√ß√£o)

## 1. Pergunta
#### Tarefa de neg√≥cios: Analisar os dados de uso de dispositivos inteligentes para obter informa√ß√µes sobre como os consumidores usam dispositivos inteligentes que n√£o s√£o da Bellabeat. Em seguida, gerar insights visando ajudar a orientar a estrat√©gia de marketing da empresa para que ela adquira maior participa√ß√£o no mercado global de dispositivos inteligentes.

Partes interessadas prim√°rias: Ur≈°ka Sr≈°en e Sando Mur, membros do time executivo.

Partes interessadas secund√°rias: Equipe de an√°lise de marketing da Bellabeat.

## 2. Prepara√ß√£o
O conjunto de dados utilizado foi o _FitBit Fitness Tracker Data_ ou, em portugu√™s, Dados do rastreador de condicionamento f√≠sico FitBit (CC0: Dom√≠nio p√∫blico, conjunto de dados disponibilizado por meio de M√∂bius): Este [conjunto de dados do Kaggle](https://www.kaggle.com/datasets/arashnic/fitbit) cont√©m os dados obtidos entre 12/03/2016 e 12/05/2016 dos rastreadores de condicionamento f√≠sico pessoal de trinta usu√°rios do Fitbit. Trinta usu√°rios eleg√≠veis do FitBit consentiram com o envio de dados pessoais do rastreador, incluindo os resultados a cada minuto de atividade f√≠sica, frequ√™ncia card√≠aca e monitoramento do sono. S√£o abrangidas informa√ß√µes sobre atividades di√°rias, passos e frequ√™ncia card√≠aca que podem ser usadas para explorar os h√°bitos dos usu√°rios. 

O conjunto de dados cont√©m aproximadamente 322 MB, disposto em 18 planilhas no formato CSV (_Comma-separated values_) com os dados organizados no formato longo (cada usu√°rio ter√° dados em v√°rias linhas).

Uma boa fonte de dados deve seguir a abordagem **ROCCC**:
- Confi√°vel (_**R**eliable_): Os dados consentidos pelos usu√°rios do FitBit foram gerados atrav√©s de uma pesquisa distribu√≠da mediante o servi√ßo de crowdsourcing Amazon Mechanical Turk.
- Original (_**O**riginal_): Trinta usu√°rios eleg√≠veis do FitBit consentiram com o envio de dados pessoais do rastreador.
- Compreensivo (_**C**omprehensive_): Os dados incluem os resultados a cada minuto de atividade f√≠sica, frequ√™ncia card√≠aca e monitoramento do sono. S√£o abrangidas informa√ß√µes sobre atividades di√°rias, passos e frequ√™ncia card√≠aca que podem ser usadas para explorar os h√°bitos dos usu√°rios. Esse conjunto de dados pode ter algumas limita√ß√µes devido ao fato da amostra ser de apenas 30 usu√°rios diferentes.
- Atual (_**C**urrent_): Apesar dos dados serem do ano de 2016, como se trata de um estudo de caso, os dados ser√£o tratados como atuais.
- Citado (_**C**ited_): Os dados foram coletados a partir de terceiros, portanto desconhecidos. Licen√ßa de dom√≠nio p√∫blico.

**Observa√ß√£o:** Esse conjunto de dados pode ter algumas limita√ß√µes devido ao fato da amostra ser de apenas 30 usu√°rios diferentes e de n√£o apresentar informa√ß√µes demogr√°ficas. Um vi√©s de amostragem pode ser identificado, logo √© aconselhado adicionar outros dados para ajudar a lidar com essas limita√ß√µes.

## 3. Processamento

Inicialmente todas as planilhas foram nomeadas de acordo com as conven√ß√µes de nomenclatura de arquivo, incluindo a data na nomenclatura das planilhas no formato padr√£o internacional aaaammdd.

### 3.1 Instalando os pacotes e abrindo as bibliotecas
```
install.packages("tidyverse")
install.packages("here")
install.packages("skimr")
install.packages("janitor")
install.packages("lubridate")
install.packages("plotly")

library(tidyverse)
library(here)
library(skimr)
library(janitor)
library(lubridate)
library(plotly)
```

### 3.2 Importando os conjuntos de dados
```
atividadeDia <- read.csv("~/FitBit/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged_20160312-20160512.csv")
caloriasHora <- read.csv("~/FitBit/Fitabase Data 4.12.16-5.12.16/hourlyCalories_merged_20160312-20160512.csv")
intensidadeHora <- read.csv("~/FitBit/Fitabase Data 4.12.16-5.12.16/hourlyIntensities_merged_20160312-20160512.csv")
passosHora <- read.csv ("~/FitBit/Fitabase Data 4.12.16-5.12.16/hourlySteps_merged_20160312-20160512.csv")
peso <- read.csv("~/FitBit/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged_20160312-20160512.csv")
sonoDia <- read.csv("~/FitBit/Fitabase Data 4.12.16-5.12.16/sleepDay_merged_20160312-20160512.csv")
```
Sobre os conjuntos de dados que ser√£o utilizados para a an√°lise:
- _atividadeDia_: Apresenta os valores por dia das vari√°veis TotalSteps, VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes, SedentaryMinutes, Calories entre outras;
- _caloriasHora_: Apresenta os valores por dia e hora da vari√°vel Calories;
- _intensidadeHora_: Apresenta os valores por dia e hora das vari√°veis TotalIntensity e AverageIntensity;
- _passosHora_: Apresenta os valores por dia e hora da vari√°vel StepTotal;
- _peso_: Apresenta os valores da vari√°vel WeightKg entre outras;
- _sonoDia_: Apresenta os valores por dia das vari√°veis TotalMinutesAsleep, TotalTimeInBed entre outras.

Visualizando e consultando o resumo das medidas estat√≠sticas dos conjuntos de dados:
```
view(atividadeDia)
summary(atividadeDia)

view(caloriasHora)
summary(caloriasHora)

view(intensidadeHora)
summary(intensidadeHora)

view(passosHora)
summary(passosHora)

view(sonoDia)
summary(sonoDia)

view(peso)
summary(peso)
```
  
### 3.3 Limpeza de dados
#### 3.3.1 Verificando a quantidade de usu√°rios distintos
```
n_distinct(atividadeDia$Id)
n_distinct(caloriasHora$Id)
n_distinct(intensidadeHora$Id)
n_distinct(passosHora$Id)
n_distinct(sonoDia$Id)
n_distinct(peso$Id)
```

Valores apresentados:
- 33 para atividadeDia
- 33 para caloriasHora
- 33 para intensidadeHora
- 33 para passosHora
- 24 para sonoDia
- 8 para peso

Por ser uma amostra de dados muito pequena, o conjunto de dados _peso_ n√£o ser√° utilizado na an√°lise.

#### 3.3.2 Verificando a quantidade de valores N/A
```
sum(is.na(atividadeDia))
sum(is.na(caloriasHora))
sum(is.na(intensidadeHora))
sum(is.na(passosHora))
sum(is.na(sonoDia))
```
Nenhum dos conjuntos de dados apresentou valores N/A.

#### 3.3.3 Verificando e removendo duplicatas
```
sum(duplicated(atividadeDia))
sum(duplicated(caloriasHora))
sum(duplicated(intensidadeHora))
sum(duplicated(passosHora))
sum(duplicated(sonoDia))
```
Apenas o conjunto de dados _sonoDia_ apresentou duplicatas. Removendo-as:
```
sonoDia <- sonoDia %>%
  distinct()
```

#### 3.3.4 Renomenado as colunas
Para garantir que o nome das colunas estejam utilizando a sintaxe correta, sejam √∫nicos e consistentes, as colunas ser√£o renomeadas utilizando a fun√ß√£o _clean_names()_.
```
atividadeDia <- atividadeDia %>% 
  clean_names()

caloriasHora <- caloriasHora %>% 
  clean_names()

intensidadeHora <- intensidadeHora %>% 
  clean_names()

passosHora <- passosHora %>% 
  clean_names()

sonoDia <- sonoDia %>% 
  clean_names()
```

### 3.4 Corre√ß√£o e consist√™ncia das colunas de data e hora
Esta etapa foi realizada para que a partir das colunas referentes √† data em cada um dos conjuntos de dados, seja criada uma coluna nomeada _data_ no formato dd/mm/aaaa. A partir das colunas referentes √† data e hora foram criadas duas colunas nomeadas _data_ e _hora_ no formato dd/mm/aaaa e hh:mm:ss, respectivamente.

```
atividadeDia$activity_date=as.POSIXct(atividadeDia$activity_date, format="%m/%d/%Y", tz=Sys.timezone())
atividadeDia$data <- format(atividadeDia$activity_date, format = "%d/%m/%Y")

caloriasHora$activity_hour=as.POSIXct(caloriasHora$activity_hour, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
caloriasHora$data <- format(caloriasHora$activity_hour, format = "%d/%m/%Y")
caloriasHora$hora <- format(caloriasHora$activity_hour, format = "%H:%M:%S")

intensidadeHora$activity_hour=as.POSIXct(intensidadeHora$activity_hour, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
intensidadeHora$data <- format(intensidadeHora$activity_hour, format = "%d/%m/%Y")
intensidadeHora$hora <- format(intensidadeHora$activity_hour, format = "%H:%M:%S")

passosHora$activity_hour=as.POSIXct(passosHora$activity_hour, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
passosHora$data <- format(passosHora$activity_hour, format = "%d/%m/%Y")
passosHora$hora <- format(passosHora$activity_hour, format = "%H:%M:%S")

sonoDia$sleep_day=as.POSIXct(sonoDia$sleep_day, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
sonoDia$data <- format(sonoDia$sleep_day, format = "%d/%m/%Y")
```

### 3.5 Inserindo a coluna _dia_semana_
A coluna _dia_semana_ representa o dia da semana referente √† cada uma das datas da coluna _data_ criada anteriormente.
```
atividadeDia <- atividadeDia %>% 
  mutate(dia_semana = weekdays(as.Date(data, "%d/%m/%Y")))
#ordenando os dias da semana
atividadeDia$dia_semana <- factor(atividadeDia$dia_semana, levels= c("segunda-feira", "ter√ßa-feira", 
                                                                     "quarta-feira", "quinta-feira", 
                                                                     "sexta-feira", "s√°bado", "domingo"))
caloriasHora <- caloriasHora %>% 
  mutate(dia_semana = weekdays(as.Date(data, "%d/%m/%Y")))
#ordenando os dias da semana
caloriasHora$dia_semana <- factor(caloriasHora$dia_semana, levels= c("segunda-feira", "ter√ßa-feira", 
                                                                     "quarta-feira", "quinta-feira", 
                                                                     "sexta-feira", "s√°bado", "domingo"))
```

## 4. An√°lise
### 4.1 Unindo tabelas
Esta etapa foi realizada para que algumas tabelas fossem unidas possibilitando an√°lises utilizando suas vari√°veis
```
diario_atividade_sono <- merge(atividadeDia, sonoDia, by=c("id","data"))
horario_calorias_intensidade_passos <- merge(caloriasHora, intensidadeHora, by=c("id","data","hora"))
horario_calorias_intensidade_passos <- merge(horario_calorias_intensidade_passos, passosHora, by=c("id","data","hora"))
```
### 4.2 M√©dia do tempo consumido diariamente em cada n√≠vel de atividade
```
ativDia_media <- atividadeDia %>%
  summarise(mean(very_active_minutes), mean(fairly_active_minutes), 
            mean(lightly_active_minutes), mean(sedentary_minutes))

ativDia_mediaPorcent <- prop.table(ativDia_media)*100 #c√°lculo das porcentagens

ativPorcent <- data.frame(
  legenda=c("Muito ativo", "Razoavelmente ativo", "Levemente ativo", "Sedent√°rio"),
  valores=c(ativDia_mediaPorcent$`mean(very_active_minutes)`,ativDia_mediaPorcent$`mean(fairly_active_minutes)`,
            ativDia_mediaPorcent$`mean(lightly_active_minutes)`,ativDia_mediaPorcent$`mean(sedentary_minutes)`))

#plotagem
plot_ly(ativPorcent, labels = ~legenda, values = ~valores, type = 'pie',textposition = 'outside',textinfo = 'label+percent') %>%
  layout(title = 'M√©dia do tempo consumido diariamente em cada n√≠vel de atividade',
         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
```

### 4.3 Rela√ß√£o entre o Total de Passos e o Gasto Cal√≥rico por dia
```
#plotagem
ggplot(data=atividadeDia, aes(x=calories, y=total_steps)) + 
  geom_point() + geom_smooth() +
  labs(title="Rela√ß√£o entre o Total de Passos e o Gasto Cal√≥rico por dia",x="Calorias Gastas", y="N√∫mero de Passos")
```

### 4.4 Gasto Cal√≥rico durante a semana
```
#m√©dia
caloriasDia_media <- atividadeDia %>% 
  group_by(dia_semana) %>% 
  summarise(calorias_media = mean(calories))

#plotagem
ggplot(data=caloriasDia_media, aes(x=dia_semana, y=calorias_media))+ 
  geom_bar(stat="identity", fill="steelblue")+
  theme(axis.text.x = element_text(angle = 15))+
  labs(title="Gasto Cal√≥rico m√©dio durante a semana", x="Dia da Semana", y="Calorias Gastas")

#m√°ximo
caloriasDia_max <- atividadeDia %>% 
  group_by(dia_semana) %>% 
  summarise(calorias_max = max(calories))

#plotagem
ggplot(data=caloriasDia_max, aes(x=dia_semana, y=calorias_max))+ 
  geom_bar(stat="identity", fill="steelblue")+
  theme(axis.text.x = element_text(angle = 15))+
  labs(title="Gasto Cal√≥rico m√°ximo durante a semana", x="Dia da Semana", y="Calorias Gastas")
```

### 4.5 Varia√ß√£o da Intensidade Total M√©dia de acordo com o hor√°rio
```
intensidadeHora_media <- intensidadeHora %>%
  group_by(hora) %>%
  summarise(intensidade_total_media = mean(total_intensity))

#plotagem
ggplot(data=intensidadeHora_media, aes(x=hora, y=intensidade_total_media)) + geom_histogram(stat = "identity", fill='darkblue') +
  theme(axis.text.x = element_text(angle = 90)) + 
  labs(title="Varia√ß√£o da Intensidade Total M√©dia de acordo com o hor√°rio", x="Hor√°rio", y="Intensidade Total M√©dia")
```








